---
import { TECHSLIST } from "../Techs/TechsList.astro";
import Github from "../../icons/Github.astro";
import Live from "../../icons/Live.astro";
import Arrow from "../../icons/Arrow.astro";

export interface Props {
  title: string;
  tagline: string;
  description: string;
  technologies: string[];
  image: string;
  urlSite: string;
  urlCode?: string;
}

export interface Tech {
  name: string;
  image: string;
  image2?: string;
}

const { title, tagline, technologies, image, urlSite, urlCode } = Astro.props;
const Title = title.toLocaleUpperCase();
const path = `/projects/${image}`;
---

<section class="group">
  <div
    class="relative text-white bg-[#1a1a1a] border-1 rounded-xl p-3 bg-cover bg-center">
    <!-- <div class="relative min-h-14"> -->
    <div class="flex flex-row items-center gap-1">
      <h1 class="text-2xl">{Title}</h1>
      <div class="flex">
        <a
          href={urlCode}
          target="_blank"
          rel="noreferrer"
          class="size-7 rounded-full group-hover:bg-blue-500">
          <Github class="size-7" /></a
        >
        <a
          href={urlSite}
          target="_blank"
          rel="noreferrer"
          class="size-7">
          <Live class="size-7 group-hover:stroke-blue-500" />
        </a>
      </div>
    </div>
    <p class="text-pretty text-sm text-gray-400">{tagline}</p>
    <!-- <div
        class="absolute size-10 bg-black rounded-full top-0 right-2 text-base group-hover:bg-blue-600">
      </div> -->

    <div
      class="absolute right-2 top-1/2 transform translate-y-1/2 h-5 w-7 flex flex-col justify-center items-center py-2 gap-1 opacity-0 group-hover:opacity-100 shadow-lg">
      {
        technologies.map((tech) => {
          const techItem = TECHSLIST.find((techs) => techs.name === tech);
          const pathImage1 = techItem ? `techs/${techItem.image}` : null;
          const pathImage2 = techItem ? `techs/${techItem.image2}` : null;
          return techItem ? (
            <img
              class="filter"
              style="filter: drop-shadow(0 0 10px black);"
              src={pathImage1 || pathImage2}
              alt={techItem.name}
              width={50}
              height={50}
            />
          ) : null;
        })
      }
    </div>
    <!-- </div> -->

    <div class="relative mr-8 mt-1 mb-0">
      <a href={urlSite} target="_blank" rel="noreferrer">
        <img class="border rounded-xl" src={path} />
      </a>
    </div>
  </div>
</section>